<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>LeadFlow AI - Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            background: #f9fafb; 
            padding: 40px 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { color: #2563eb; margin-bottom: 10px; }
        .subtitle { color: #6b7280; margin-bottom: 30px; }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #2563eb;
        }
        .stat-label {
            color: #6b7280;
            font-size: 14px;
            margin-top: 5px;
        }
        
        .lead-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
        }
        .lead-card.grade-A { border-left: 4px solid #10b981; }
        .lead-card.grade-B { border-left: 4px solid #f59e0b; }
        .lead-card.grade-C { border-left: 4px solid #6b7280; }
        
        .lead-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }
        .lead-title {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            flex: 1;
        }
        .grade-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            margin-left: 15px;
        }
        .grade-badge.A { background: #d1fae5; color: #065f46; }
        .grade-badge.B { background: #fed7aa; color: #92400e; }
        .grade-badge.C { background: #e5e7eb; color: #374151; }
        
        .lead-meta {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 15px;
        }
        .lead-text {
            color: #374151;
            line-height: 1.6;
            margin-bottom: 20px;
            padding: 15px;
            background: #f9fafb;
            border-radius: 6px;
        }
        
        .response-section {
            border-top: 2px solid #e5e7eb;
            padding-top: 20px;
            margin-top: 20px;
        }
        .response-label {
            font-weight: 600;
            color: #111827;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .response-text {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            padding: 15px;
            border-radius: 6px;
            white-space: pre-wrap;
            color: #1e40af;
            font-family: ui-monospace, monospace;
            font-size: 14px;
            line-height: 1.6;
            position: relative;
        }
        
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        .btn-primary {
            background: #2563eb;
            color: white;
        }
        .btn-primary:hover {
            background: #1d4ed8;
        }
        .btn-secondary {
            background: #e5e7eb;
            color: #374151;
        }
        .btn-secondary:hover {
            background: #d1d5db;
        }
        
        .copy-btn {
            background: #10b981;
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            border: none;
        }
        .copy-btn:hover {
            background: #059669;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6b7280;
        }
        .empty-state h2 {
            color: #111827;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ LeadFlow AI Dashboard</h1>
        <p class="subtitle">Your automated lead generation system</p>
        
        <div class="stats" id="stats"></div>
        
        <div id="leads-container"></div>
    </div>
    
    <script>
        const TEMPLATES = {
            'redesign': `Hey! Saw your post about {topic}.

I run UpGo Web AI Agency and we specialize in exactly this - modern web design + SEO that actually converts.

Quick wins we've delivered for similar clients:
‚Ä¢ 40% faster page speeds (better SEO + UX)
‚Ä¢ Mobile-first designs (most traffic comes from mobile now)
‚Ä¢ SEO-optimized from day 1 (not an afterthought)

No pressure, but if you want to chat about your project, I'd be happy to share what's worked for others in your space.

‚Äî Steve
UpGo Web AI Agency
https://upgo.ai`,

            'new_site': `Hi! Just saw your post about {topic}.

I build websites for businesses like yours - fast, modern, and conversion-focused.

Recent project: Built a landing page that converted at 15% (industry average is 2-3%). Client got their investment back in the first month.

What's your timeline and rough budget? Happy to share ideas even if we're not a fit.

‚Äî Steve
UpGo Web AI Agency
https://upgo.ai`,

            'ecommerce': `Hey! Saw you're working on {topic}.

I specialize in ecommerce sites - Shopify, WooCommerce, custom builds. Focus on conversion optimization (checkout flow, product pages, speed).

One recent client increased checkout completion by 30% just by simplifying their cart flow.

What platform are you on / considering? Happy to point you in the right direction.

‚Äî Steve
UpGo Web AI Agency
https://upgo.ai`,

            'seo': `Hi! Read your post about {topic}.

I do technical SEO + content strategy for web agencies and small businesses.

Recent win: Got a client from page 3 to page 1 for their main keyword in 6 weeks (15x more organic traffic).

What's your current SEO situation? Happy to do a quick audit and share what I'd prioritize.

‚Äî Steve
UpGo Web AI Agency
https://upgo.ai`,

            'generic': `Hey! Saw your post about {topic}.

I run a web design + SEO agency and help businesses with exactly this kind of challenge.

What stage are you at? Happy to chat and share what's worked for similar projects - no pressure.

‚Äî Steve
UpGo Web AI Agency
https://upgo.ai`
        };
        
        function detectContext(lead) {
            const text = (lead.title + ' ' + lead.text).toLowerCase();
            
            if (text.includes('redesign') || text.includes('rebuild')) {
                return 'redesign';
            } else if (text.includes('ecommerce') || text.includes('shopify') || text.includes('store')) {
                return 'ecommerce';
            } else if (text.includes('seo') || text.includes('ranking') || text.includes('traffic')) {
                return 'seo';
            } else if (text.includes('website') || text.includes('landing page') || text.includes('web design')) {
                return 'new_site';
            } else {
                return 'generic';
            }
        }
        
        function generateResponse(lead) {
            const context = detectContext(lead);
            const template = TEMPLATES[context];
            const topic = lead.title.toLowerCase().replace(/\[|\]/g, '');
            return template.replace('{topic}', topic);
        }
        
        function copyResponse(responseId) {
            const text = document.getElementById(responseId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('Response copied! Go paste it on Reddit.');
            });
        }
        
        function loadLeads() {
            fetch('leads.json')
                .then(r => r.json())
                .then(leads => {
                    if (!leads || leads.length === 0) {
                        document.getElementById('leads-container').innerHTML = `
                            <div class="empty-state">
                                <h2>No leads yet</h2>
                                <p>Run the monitor to find leads: <code>python reddit_monitor.py</code></p>
                            </div>
                        `;
                        return;
                    }
                    
                    // Stats
                    const gradeA = leads.filter(l => l.grade === 'A').length;
                    const gradeB = leads.filter(l => l.grade === 'B').length;
                    const gradeC = leads.filter(l => l.grade === 'C').length;
                    
                    document.getElementById('stats').innerHTML = `
                        <div class="stat">
                            <div class="stat-value">${gradeA}</div>
                            <div class="stat-label">A-Grade Leads</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${gradeB}</div>
                            <div class="stat-label">B-Grade Leads</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${gradeC}</div>
                            <div class="stat-label">C-Grade Leads</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${leads.length}</div>
                            <div class="stat-label">Total Leads</div>
                        </div>
                    `;
                    
                    // Leads
                    leads.sort((a, b) => b.score - a.score);
                    
                    const html = leads.map((lead, i) => {
                        const response = generateResponse(lead);
                        const responseId = `response-${i}`;
                        
                        return `
                            <div class="lead-card grade-${lead.grade}">
                                <div class="lead-header">
                                    <div class="lead-title">${lead.title}</div>
                                    <div class="grade-badge ${lead.grade}">Grade ${lead.grade} (${lead.score}/100)</div>
                                </div>
                                <div class="lead-meta">
                                    r/${lead.subreddit} ‚Ä¢ u/${lead.author} ‚Ä¢ ${new Date(lead.created).toLocaleString()}
                                </div>
                                <div class="lead-text">${lead.text.substring(0, 300)}${lead.text.length > 300 ? '...' : ''}</div>
                                
                                <div class="response-section">
                                    <div class="response-label">
                                        üìù Your Response (ready to send)
                                        <button class="copy-btn" onclick="copyResponse('${responseId}')">Copy to Clipboard</button>
                                    </div>
                                    <div class="response-text" id="${responseId}">${response}</div>
                                </div>
                                
                                <div class="actions">
                                    <a href="${lead.url}" target="_blank" class="btn btn-primary">View on Reddit ‚Üí</a>
                                    <button class="btn btn-secondary" onclick="copyResponse('${responseId}')">Copy Response</button>
                                </div>
                            </div>
                        `;
                    }).join('');
                    
                    document.getElementById('leads-container').innerHTML = html;
                })
                .catch(err => {
                    document.getElementById('leads-container').innerHTML = `
                        <div class="empty-state">
                            <h2>Error loading leads</h2>
                            <p>${err.message}</p>
                        </div>
                    `;
                });
        }
        
        loadLeads();
    </script>
</body>
</html>
